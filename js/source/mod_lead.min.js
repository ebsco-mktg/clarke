"use strict";var docCookies={getItem:function(e){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(e,o,t,n,i,c){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var a="";if(t)switch(t.constructor){case Number:a=t===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+t;break;case String:a="; expires="+t;break;case Date:a="; expires="+t.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(o)+a+(i?"; domain="+i:"")+(n?"; path="+n:"")+(c?"; secure":""),!0},removeItem:function(e,o,t){return e&&this.hasItem(e)?(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(t?"; domain="+t:"")+(o?"; path="+o:""),!0):!1},hasItem:function(e){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),o=0;o<e.length;o++)e[o]=decodeURIComponent(e[o]);return e}},LEAD=function(){function e(e,o,t){var n=new Array;null==o&&(o=document),null==t&&(t="*");var c=o.getElementsByTagName(t),a=c.length,m=new RegExp("(^|\\s)"+e+"(\\s|$)");for(i=0,j=0;i<a;i++)m.test(c[i].className)&&(n[j]=c[i],j++);return n}function o(){for(var e,o={},t=/\+/g,n=/([^&=]+)=?([^&]*)/g,i=function(e){return decodeURIComponent(e.replace(t," "))},c=window.location.search.substring(1);e=n.exec(c);)o[i(e[1])]=i(e[2]);return o}function t(e){for(var o=0,t=document.referrer,n=!1;o<e.length;o++){var i=new RegExp("^https?://([^/]+.)?"+e[o]+"(/|$)","i");if(t.match(i))return n=!0;n=!1}return n}function n(e,o){var t=!1;return t=o?"undefined"!=typeof e[s.og.cmp]&&"undefined"!=typeof e[s.og.src]:"undefined"!=typeof e[s.campaign.medium]&&"undefined"!=typeof e[s.campaign.source]&&"undefined"!=typeof e[s.campaign.name]}function c(e,o){var t={};return t[s.campaign.medium]=o?e[s.og.src]:e[s.campaign.medium],t[s.campaign.source]=o?e[s.og.code]:e[s.campaign.source],t[s.campaign.name]=o?e[s.og.cmp]:e[s.campaign.name],t[s.campaign.content]="undefined"!=typeof e[s.campaign.content]?e[s.campaign.content]:"",t[s.custom.id]="undefined"!=typeof e[s.custom.id]?e[s.custom.id]:"",t[s.custom.strategy]="undefined"!=typeof e[s.custom.strategy]?e[s.custom.strategy]:"",t}function a(e,o){var t="";docCookies.hasItem(s.cookieName)&&(t=docCookies.getItem(s.cookieName)),e.contentWindow.postMessage(t,o)}function m(e,o){var t=document.createElement("iframe");t.setAttribute("style","display:none"),t.src=o,document.getElementsByTagName("body")[0].appendChild(t),t.onload=function(){a(t,e)}}var r={},s={cookieName:"eis",campaign:{medium:"utm_medium",source:"utm_source",name:"utm_campaign",content:"utm_content"},custom:{id:"eis_id",strategy:"eis_strategy"},og:{src:"eis-src",code:"eis-code",cmp:"eis-cmp"},cmpID:"eis-cmp",campaignID:"eis-cmpid",leadSrc:"eis-src",channelType:"eis-type",tacticCode:"eis-code",mediumType:"eis-medium",defaultCmpid:"eiswebsite",EISDomains:["ebsco.com","ebscohost.com","epnet.com","dynamed.com"],EISLandingPg:"www.ebsco.com/promo/",expireLength:{search:86400,landingpage:1209600,direct:86400,email:604800,social:86400,facebook:86400,twitter:86400,pinterest:86400,googleplus:86400,linkedin:86400,youtube:86400,vimeo:86400,bb:1209600,ppc:86400},cookieDomain:"ebsco.com",originDomain:"https://www.ebsco.com/",appleSauce:{"https://www.ebscohost.com/":"https://www.ebscohost.com/apps/applesauce/listener.html"},searchSites:["www.google.com","www.google.co.uk","www.google.co.in","www.google.com.ph","www.google.de","www.google.fr","bing.com","yahoo.com","gigablast.com","lycos.com","duckduckgo.com","ask.com","baidu.com","so.com"],socialSites:["t.co","twitter.com","facebook.com","pinterest.com","plus.url.google.com","linkedin.com","youtube.com","vimeo.com"],privacyPolicy:"We have a privacy policy. Please see https://www.ebsco.com/company/privacy-policy"};return r.deleteCookie=function(){try{return docCookies.removeItem(s.cookieName,"/",s.cookieDomain),!0}catch(e){return window.console.error("deleteCookie: ",e),!1}},r.detectCampaign=function(){var o="undefined"!=typeof document.getElementsByClassName?document.getElementsByClassName("fnDetectCookie"):e("fnDetectCookie"),t=o.length,n="1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack,c=navigator.cookieEnabled;if(!(t>0))return!1;if(null!==docCookies.getItem(s.cookieName)&&EIS.loadOnce("JSON",function(){for(var e=c?docCookies.getItem(s.cookieName):JSON.parse(localStorage.getItem(s.cookieName)),n="object"!=typeof e?r.normalizeCookie(e):e,i=void 0!==typeof n[s.campaign.medium]?n[s.campaign.medium]:"not set",a=void 0!==typeof n[s.campaign.source]?n[s.campaign.source]:"not set",m=void 0!==typeof n[s.campaign.name]?n[s.campaign.name]:"not set",d=void 0!==typeof n[s.campaign.content]?n[s.campaign.content]:"not set",u=void 0!==typeof n[s.custom.id]?n[s.custom.id]:"not set",p=void 0!==typeof n[s.custom.strategy]?n[s.custom.strategy]:"not set",g=null!==document.getElementById("fakeForm"),l=g?"text":"hidden",f=function(e,o,t){var n=document.createElement("input");return n.setAttribute("type",e),n.setAttribute("name",o),n.setAttribute("value",t),g&&(n.className="fnAddLabel",n.setAttribute("readonly","readonly")),n},w=f(l,s.campaign.medium,i),y=f(l,s.campaign.source,a),k=f(l,s.campaign.name,m),h=f(l,s.campaign.content,d),v=f(l,s.custom.id,u),C=f(l,s.custom.strategy,p),b=0;t>b;b++){var I=g?document.getElementById("hiddenVals"):o[b];I.appendChild(w),I.appendChild(y),I.appendChild(k),I.appendChild(h),I.appendChild(v),I.appendChild(C)}if(g){window.console.log("isTesting");(function(){try{for(var e=document.querySelectorAll("input.fnAddLabel"),o=e.length,t=0,n="";o>t;t++)n="<label>"+e[t].getAttribute("name")+"</label>",e[t].insertAdjacentHTML("beforebegin",n),window.console.log("thisLabel: ",n,e[t]);return!0}catch(i){return window.console.error(i),!1}})()}return!0}),n){var a=document.createElement("input");for(a.setAttribute("type","hidden"),a.setAttribute("name","dev_note"),a.setAttribute("value","DNT"),i=0;i<t;i++)o[i].appendChild(a);return!0}return!1},r.createCookie=function(e){try{var o='[{"'+s.campaign.medium+'":"'+e[s.campaign.medium]+'","'+s.campaign.source+'":"'+e[s.campaign.source]+'","'+s.campaign.name+'":"'+e[s.campaign.name]+'","'+s.campaign.content+'":"'+e[s.campaign.content]+'","'+s.custom.id+'":"'+e[s.custom.id]+'","'+s.custom.strategy+'":"'+e[s.custom.strategy]+'"}]',t=s.expireLength[e[s.campaign.medium]];docCookies.setItem(s.cookieName,o,t,"/",s.cookieDomain)}catch(n){return window.console.error("error trying to set cookie: ",n),n}return!0},r.saveData=function(e){localStorage.setItem(s.cookieName,JSON.stringify(e))},r.normalizeCookie=function(e){var o={},t=JSON.parse(e),n=t[0],i="undefined"!=typeof n[s.og.cmp]?!0:!1;return o=i?c(t[0],i):n},r.init=function(){var e;EIS.loadOnce("JSON",function(){var e=!t(s.EISDomains);if(e=!0){var i=o(),a="undefined"!=typeof i[s.og.cmp]?!0:!1,d=n(i,a),u=null===docCookies.getItem(s.cookieName)?!1:!0,p={};if(d){if(window.console.info(s.privacyPolicy),p=c(i,a),u){var g=docCookies.getItem(s.cookieName),l=r.normalizeCookie(g),f=l[s.campaign.medium].toLowerCase(),w=p[s.campaign.medium].toLowerCase();switch(f){case"search":"search"===w&&r.createCookie(p);break;case"landingpage":"landingpage"!==w||r.createCookie(p);break;default:r.createCookie(p)}}else r.createCookie(p);var y=s.appleSauce;for(var k in y)window.console.log(k,y[k]),m(k,y[k])}else if(t(s.searchSites)){var h=document.referrer,v=h.split("//")[1],C=v.split("/")[0],b={};b.cmpMedium="search",b.cmpSource=C,b.cmpName=window.location.host+"/"+window.location.pathname,r.createCookie(b)}else if(t(s.socialSites)&&null===docCookies.getItem(s.cookieName)){var h=document.referrer,v=h.split("//")[1],C=v.split("/")[0],I={};I.cmpMedium="social",I.cmpSource=C,I.cmpName=window.location.host+"/"+window.location.pathname,r.createCookie(I)}}}),e=r.detectCampaign()}(),r}();